<!doctype html><html lang=en><meta charset=utf-8><meta name=generator content="Hugo 0.64.0"><meta name=viewport content="width=device-width,initial-scale=1,viewport-fit=cover"><meta name=color-scheme content="light dark"><meta name=supported-color-schemes content="light dark"><title>Benchmarking a pi calculation for fun&nbsp;&ndash;&nbsp;James Hughes</title><link rel=stylesheet href=/css/core.min.99d761621eb15531f47d6f109c742c4d2f97f9c10fed380e3da27af7676a27a1fb5968bfbd3207717f11d40ad1d68b92.css integrity=sha384-mddhYh6xVTH0fW8QnHQsTS+X+cEP7TgOPaJ692dqJ6H7WWi/vTIHcX8R1ArR1ouS><meta name=twitter:card content="summary"><meta name=twitter:title content="Benchmarking a pi calculation for fun"><body><section id=header><div class="header wrap"><span class="header left-side"><a class="site home" href=/><span class="site name">James Hughes</span></a></span>
<span class="header right-side"><div class="nav wrap"><nav class=nav><a class="nav item" href=/categories/>Categories</a><a class="nav item" href=/tags/>Tags</a><a class="nav item" href></a><a class="nav item" href></a></nav></div></span></div></section><section id=content><div class=article-container><section class="article header"><h1 class="article title">Benchmarking a pi calculation for fun</h1><p class="article date">Wednesday, May 22, 2019</p></section><article class="article markdown-body"><p>Dotnet Core, Golang, Node, C, Java, Python.</p><p>This is what I felt like doing on a Tuesday night after seeing yet another article discussing the performance of dotnet core over node.js. As is typical when things like these arise, our team&rsquo;s slack channel went into the lightest of debates about C# vs Node, compiled speeds vs interpreted languages, and finally back to what we were originally discussing - &ldquo;Do you think cypress would be faster than selenium?&rdquo;</p><p>An article that came up in slack is here: <a href=https://www.skylinetechnologies.com/Blog/Skyline-Blog/March_2018/pi-day-compare-dotnet-core-classic-node-javascript target=_blank>https://www.skylinetechnologies.com/Blog/Skyline-Blog/March_2018/pi-day-compare-dotnet-core-classic-node-javascript</a></p><p>Which was neat because it was celebrating pi day by using dotnetcore, dotnet classic, and node to calculate pi using the <a href=https://en.wikipedia.org/wiki/Leibniz_formula_for_%CF%80 target=_blank>Leibniz formula for π</a> and I like geeky things like that. This post isn&rsquo;t about what that is - but if you&rsquo;re interested visit that link and check it out!</p><blockquote><p>Who was the largest knight at King Arthur&rsquo;s Round table? Sir Cumference!
He got that way from eating too much pi!
&ndash; Unknown</p></blockquote><p>The point of the article was to showcase how much faster dotnetcore was than nodejs. Which it seemed to.. until I looked at their github and noticed that the code wasn&rsquo;t necessarily comparing apples to apples.</p><p>In dotnetcore they used the standard library and for nodejs they installed and included <a href=https://mathjs.org/ target=_blank>mathjs</a> [] and <a href=https://momentjs.com/ target=_blank>moment</a> for performing some small math and date functions. Libraries like this are both the boon and bane of node.js. It was completely possible to use JavaScript&rsquo;s native Math and Date api however, for ease of use, the authors chose to install these two libraries. They make programming in node <em>easy</em> while sacrificing some performance - a great tradeoff in a lot of circumstances!</p><p>However, I digress. Long story short - using node v10.6 and refactoring the libraries back to the standard library, I was able to bring the node performance from ~9 seconds in windows to ~4 seconds which isn&rsquo;t as good as dotnetcore on windows but is much faster than original.</p><p>This led me to wonder - how would other languages perform? Golang has been a personal favourite of mine for a while despite not having anything in any intense form of production using it - so I started there and was &mldr; disappointed.</p><p>It was about 10 seconds - so I did what any rational programmer with 2 small kids would do after they go to bed. I tried the other languages I know how to program in!</p><table><thead><tr><th>Language</th><th>Version</th><th>Time (ms)</th></tr></thead><tbody><tr><td>Golang</td><td>1.11.2</td><td>10 852</td></tr><tr><td>Node</td><td>12.3</td><td>897</td></tr><tr><td>C</td><td>C11</td><td>867</td></tr><tr><td>Python</td><td>2.7.15</td><td>25 704</td></tr><tr><td>Dotnet Core (C#)</td><td>2.2.0</td><td>1 231</td></tr><tr><td>Java</td><td>1.8.0_818</td><td>7 816</td></tr></tbody></table><p>My golang sweetheart fell by the wayside for this test :(</p><p>My upgraded version of Node however killed it! I originally ran it with node v10.6 and it was ~ 3.4 seconds then upgraded node just to see. Now I don&rsquo;t feel like downgrading node so I&rsquo;ll leave that up to whoever happens to stumble across this to play with.</p><p>I&rsquo;m also not going to try it on many vm&rsquo;s because I&rsquo;m truthfully much to lazy for that this evening however if you are so interested, I ran these on OSX 10.</p><p>I just wanted to share how differently different languages handle the same sort of calculations. I&rsquo;m curious to know that if I used Oracle&rsquo;s Java vs OpenJDK&rsquo;s Java if the performance would have increased?</p><p>That&rsquo;s about all I have to say about this so now I do as my young ones have done - and hit the hay!</p></article><section class="article labels"><a class=category href=/categories/nodejs/>nodejs</a><a class=category href=/categories/golang/>golang</a><a class=category href=/categories/java/>java</a><a class=category href=/categories/python/>python</a><a class=category href=/categories/c/>c</a><a class=category href=/categories/programming/>programming</a><a class=category href=/categories/pi/>pi</a><a class=category href=/categories/algorithms/>algorithms</a><a class=tag href=/tags/nodejs/>nodejs</a><a class=tag href=/tags/golang/>golang</a><a class=tag href=/tags/java/>java</a><a class=tag href=/tags/python/>python</a><a class=tag href=/tags/c/>c</a><a class=tag href=/tags/programming/>programming</a><a class=tag href=/tags/pi/>pi</a><a class=tag href=/tags/algorithms/>algorithms</a></section></div><div class="article bottom"><section class="article navigation"><p><a class=link href=/arcgis-upgrade-error-28809/><span class="iconfont icon-article"></span>ArcGIS Upgrade Error 28809</a></p><p><a class=link href=/indexeddb-react-for-offline-storage/><span class="iconfont icon-article"></span>IndexedDB + React for Offline Storage</a></p></section></div></section><section id=footer><div class=footer-wrap><p class=copyright>©2020 James Hughes.</p><p class=powerby><span>Powered by </span><a href=https://gohugo.io target=_blank>Hugo</a><span> and the </span><a href=https://themes.gohugo.io/hugo-notepadium/ target=_blank>Notepadium</a></p></div></section></body></html>